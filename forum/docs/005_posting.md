## 글 작성 만들기

1. 글 작성 페이지 필요
2. 업로드 버튼 누르면 작성한 글 DB에 저장

- 공백을 보내거나 이상한 글 작성하면 안좋음
  - 중간에 유저와 디비사이에 글 검사 프로그램 하나 두면 안심 (server)
  - 3-tier architecture

<hr>

## 서버 만드는 법

그래서 서버는 유저 요청을 받으면 이것저것 실행하면 되는 매우 간단한 프로그램이라

서버 만드는 법도 별거 아닙니다.

"누가 이런 요청을 하면 이런 코드 실행해주셈" 이렇게 코드짜놓으면 끝임

예를 들어서 DB에 글저장하는 기능을 만들고 싶으면

"누가 글제목과 내용을 보내면 DB에 저장해주세요" 라고 코드짜놓으면 끝입니다.

근데 서버개발 하다보면 비슷하게 생긴 기능들이 많을 수 있기 때문에

**혼동을 피하기 위해서 기능마다 URL과 method이름을 붙여서 구분합니다.**

<hr>

### 서버 만들기

1. app/api

- 신버전 문법 : 불안정함

2. root/pages/api

- 이게 더 안정적

<hr>

### 서버 기능을 만들려면

자동 라우팅 기능이 있으니까 이걸 이용

ex) test.js 를 만들어 놓으면 누가 /api/test 로 요청을 하면 파일안의 코드를 실행해준다.

서버에서는 기능실행을 하면 유저에게 응답을 해줘야된다.

안해주면 무한 대기 상태에 빠짐

<br>

### status code (rough)

- 200 : 서버 기능 처리 성공
- 500 : 서버 기능 처리 실패
- 400 : 유저 잘못으로 서버 기능 처리 실패

<br>

### get, post 요청 간단히 하기

form 태그의 action, method 이용

<br>

### 메서드 구분하기

조건문으로 분기처리

<hr>

## 숙제

1. /api/list 로 GET 요청하면 DB에 있는 post 모든 데이터 보내주기
2. 특정 url로 GET요청 하면 현재 시간 보내주는 서버 기능
3. 글 발행 기능 완성
